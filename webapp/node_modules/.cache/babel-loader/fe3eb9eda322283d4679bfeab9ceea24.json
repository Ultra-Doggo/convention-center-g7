{"ast":null,"code":"import _assertThisInitialized from\"/Users/toto/Desktop/convention-center-g7/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/toto/Desktop/convention-center-g7/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/toto/Desktop/convention-center-g7/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/toto/Desktop/convention-center-g7/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/toto/Desktop/convention-center-g7/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import'../../webapp.css';import{withRouter}from\"react-router-dom\";import{authenticate}from\"../../services/Validator\";export var LoginBox=/*#__PURE__*/function(_React$Component){_inherits(LoginBox,_React$Component);var _super=_createSuper(LoginBox);function LoginBox(){_classCallCheck(this,LoginBox);return _super.apply(this,arguments);}_createClass(LoginBox,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Login,{history:this.props.history,storage:this.props.storage});}}]);return LoginBox;}(React.Component);export var Login=/*#__PURE__*/function(_React$Component2){_inherits(Login,_React$Component2);var _super2=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super2.call(this,props);_this.state={user:'',pass:'',error:'loginError'};_this.changeUser=_this.changeUser.bind(_assertThisInitialized(_this));_this.changePass=_this.changePass.bind(_assertThisInitialized(_this));_this.handleRegister=_this.handleRegister.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"changeUser\",value:function changeUser(event){this.setState({user:event.target.value});}},{key:\"changePass\",value:function changePass(event){this.setState({pass:event.target.value});}},{key:\"handleRegister\",value:function handleRegister(event){event.preventDefault();this.props.history.push('/register');}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();var validated=authenticate(this.state,this.props.storage);if(validated[0]){this.props.history.push('/dashboard');}else{this.setState({error:'loginError'});this.setState({errorMessage:validated[1]});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,placeholder:\"Email\",value:this.state.user,onChange:this.changeUser}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,placeholder:\"Password\",value:this.state.pass,onChange:this.changePass}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot your password?\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",id:this.state.error,children:this.state.errorMessage})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlay-container-right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hi There!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account with us yet? Register now!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleRegister,className:\"ghost\",id:\"signUp\",children:\"Sign Up \"})]})]});}}]);return Login;}(React.Component);export default withRouter(LoginBox);","map":{"version":3,"sources":["/Users/toto/Desktop/convention-center-g7/webapp/src/pages/Login/index.js"],"names":["React","withRouter","authenticate","LoginBox","props","history","storage","Component","Login","state","user","pass","error","changeUser","bind","changePass","handleRegister","handleSubmit","event","setState","target","value","preventDefault","push","validated","errorMessage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../webapp.css';\nimport {withRouter} from \"react-router-dom\";\nimport {authenticate} from \"../../services/Validator\";\n\nexport class LoginBox extends React.Component {\n    render() {\n        return (\n            <Login history = {this.props.history} storage = {this.props.storage}/>\n        );\n    }\n}\n\nexport class Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {user:'', pass:'', error:'loginError'};\n\n        this.changeUser = this.changeUser.bind(this);\n        this.changePass = this.changePass.bind(this);\n        this.handleRegister = this.handleRegister.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    changeUser(event) {\n        this.setState({user: event.target.value});\n    }\n\n    changePass(event) {\n        this.setState({pass: event.target.value});\n    }\n\n    handleRegister(event) {\n        event.preventDefault();\n        this.props.history.push('/register');\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        let validated = authenticate(this.state, this.props.storage);\n        if (validated[0]) {\n    \t\t\tthis.props.history.push('/dashboard');\n    \t\t} else {\n            this.setState({error: 'loginError'});\n            this.setState({errorMessage: validated[1]});\n        }\n    }\n\n    render () {\n        return (\n            <div className=\"container\" id=\"container\">\n              <div className=\"form-container\">\n                <form onSubmit={this.handleSubmit}>\n                  <h1>Sign in</h1>\n                  <input type='text' required placeholder='Email'\n                        value={this.state.user} onChange={ this.changeUser} />\n                  <input type='password'required placeholder='Password'\n                        value ={this.state.pass} onChange={this.changePass} />\n                  <a href=\"#\">Forgot your password?</a>\n                  <button>Sign In</button>\n                  <div className='error' id={this.state.error}>\n                            {this.state.errorMessage}\n                  </div>\n                </form>\n              </div>\n              <div className=\"overlay-container-right\">\n                <h1>Hi There!</h1>\n                <p>Don't have an account with us yet? Register now!</p>\n                <button onClick={this.handleRegister} className=\"ghost\" id=\"signUp\">Sign Up </button>\n              </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(LoginBox);\n"]},"metadata":{},"sourceType":"module"}