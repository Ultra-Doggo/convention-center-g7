(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{19:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s(1),n=s.n(a),i=s(25),c=s.n(i),o=s(2),u=s(5),h=Object(u.a)(),l=s(9),d=s(15),j=s(4),b=s(8),p=s(11),g=s(13),O=s(12),v=(s(19),function e(t,s){Object(b.a)(this,e),this.email=t,this.name=s}),f={baseUrl:"http://localhost:5000/api"};function m(e){var t=new XMLHttpRequest;return t.open("POST","".concat(f.baseUrl,"/login"),!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("email="+e.user+"&password="+e.pass),[t.status,t.responseText]}function x(e,t){if(e.pass!==e.repass)return[!1,"Passwords do not match"];if(e.user.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,24})+$/)){if(e.pass.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/)){if(""!==e.name&&""!==e.user&&""!==e.pass&&""!==e.repass){var s=m(e);if(200===s[0]||204===s[0])return[!1,"An account already exists for ".concat(e.name)];if(205===s[0]){if(200===function(e){var t=new XMLHttpRequest;return t.open("POST","".concat(f.baseUrl,"/register"),!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("name="+e.name+"&email="+e.user+"&password="+e.pass),t.status}(e)){var r=new v(e.user,e.name);return t.setUser(r),[!0]}return[!1,"Error has occurred"]}return[!1,"Error has occurred"]}return[!1,"Please fill in all fields"]}return[!1,"Passwords must be at least 8 characters long; contain at least 1 lower case letter [a-z]; at least 1 upper case letter [A-Z]; at least 1 number [0-9]"]}return[!1,"".concat(e.user," is not a valid email address")]}var y=function(e){Object(g.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(r.jsx)(w,{history:this.props.history,storage:this.props.storage})}}]),s}(n.a.Component),w=function(e){Object(g.a)(s,e);var t=Object(O.a)(s);function s(e){var r;return Object(b.a)(this,s),(r=t.call(this,e)).state={user:"",pass:"",error:"loginError"},r.changeUser=r.changeUser.bind(Object(j.a)(r)),r.changePass=r.changePass.bind(Object(j.a)(r)),r.handleRegister=r.handleRegister.bind(Object(j.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(j.a)(r)),r}return Object(p.a)(s,[{key:"changeUser",value:function(e){this.setState({user:e.target.value})}},{key:"changePass",value:function(e){this.setState({pass:e.target.value})}},{key:"handleRegister",value:function(e){e.preventDefault(),this.props.history.push("/register")}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=function(e,t){if(""===e.user||""===e.pass)return[!1,"Please fill in all fields"];var s=m(e);if(200!==s[0])return 204===s[0]||205===s[0]?[!1,"Invalid email or password"]:[!1,"Error has occured"];var r=JSON.parse(s[1]);if(200===s[0]){var a=new v(e.user,r.results);return t.setUser(a),[!0]}}(this.state,this.props.storage);t[0]?this.props.history.push("/dashboard"):(this.setState({error:"loginError"}),this.setState({errorMessage:t[1]}))}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container",id:"container",children:[Object(r.jsx)("div",{className:"form-container",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("h1",{children:"Sign in"}),Object(r.jsx)("input",{type:"text",required:!0,placeholder:"Email",value:this.state.user,onChange:this.changeUser}),Object(r.jsx)("input",{type:"password",required:!0,placeholder:"Password",value:this.state.pass,onChange:this.changePass}),Object(r.jsx)("a",{href:"#",children:"Forgot your password?"}),Object(r.jsx)("button",{children:"Sign In"}),Object(r.jsx)("div",{className:"error",id:this.state.error,children:this.state.errorMessage})]})}),Object(r.jsxs)("div",{className:"overlay-container-right",children:[Object(r.jsx)("h1",{children:"Hi There!"}),Object(r.jsx)("p",{children:"Don't have an account with us yet? Register now!"}),Object(r.jsx)("button",{onClick:this.handleRegister,className:"ghost",id:"signUp",children:"Sign Up "})]})]})}}]),s}(n.a.Component),S=Object(o.g)(y),k=function(e){Object(g.a)(s,e);var t=Object(O.a)(s);function s(e){var r;return Object(b.a)(this,s),(r=t.call(this,e)).state={name:"",user:"",pass:"",repass:"",error:"registerError"},r.changeName=r.changeName.bind(Object(j.a)(r)),r.changeUser=r.changeUser.bind(Object(j.a)(r)),r.changePass=r.changePass.bind(Object(j.a)(r)),r.changeRepass=r.changeRepass.bind(Object(j.a)(r)),r.handleLogin=r.handleLogin.bind(Object(j.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(j.a)(r)),r}return Object(p.a)(s,[{key:"changeName",value:function(e){this.setState({name:e.target.value})}},{key:"changeUser",value:function(e){this.setState({user:e.target.value})}},{key:"changePass",value:function(e){this.setState({pass:e.target.value})}},{key:"changeRepass",value:function(e){this.setState({repass:e.target.value})}},{key:"handleLogin",value:function(e){e.preventDefault(),this.props.history.push("/login")}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=x(this.state,this.props.storage);t[0]?this.props.history.push("/dashboard"):(this.setState({error:"RegisterError"}),this.setState({errorMessage:t[1]}))}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container",id:"container",children:[Object(r.jsx)("div",{className:"form-container-right",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("h1",{children:"Create Account"}),Object(r.jsx)("input",{type:"text",required:!0,placeholder:"Full Name",value:this.state.name,onChange:this.changeName}),Object(r.jsx)("input",{type:"text",required:!0,placeholder:"Email",value:this.state.user,onChange:this.changeUser}),Object(r.jsx)("input",{type:"password",required:!0,placeholder:"Password",value:this.state.pass,onChange:this.changePass}),Object(r.jsx)("input",{type:"password",required:!0,placeholder:"Re-Enter Password",value:this.state.repass,onChange:this.changeRepass}),Object(r.jsx)("button",{children:"Sign Up"}),Object(r.jsx)("div",{className:"error",id:this.state.error,children:this.state.errorMessage})]})}),Object(r.jsxs)("div",{className:"overlay-container-left",children:[Object(r.jsx)("h1",{children:"Welcome Back!"}),Object(r.jsx)("p",{children:"Oh, already have an account with us? Sign in below!"}),Object(r.jsx)("button",{onClick:this.handleLogin,className:"ghost",id:"signIn",children:"Sign In"})]})]})}}]),s}(n.a.Component),U=Object(o.g)(k),P=function(e){Object(g.a)(s,e);var t=Object(O.a)(s);function s(e){var r;return Object(b.a)(this,s),(r=t.call(this,e)).handleLogout=r.handleLogout.bind(Object(j.a)(r)),r}return Object(p.a)(s,[{key:"handleLogout",value:function(e){e.preventDefault(),this.props.storage.clear(),this.props.history.push("/")}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container",id:"container",children:[Object(r.jsx)("button",{onClick:this.handleLogout,children:" Logout "}),Object(r.jsxs)("h1",{children:[" Welcome ",this.props.storage.getUser().name," "]})]})}}]),s}(n.a.Component),N=Object(o.g)(P),C=s(27),R=s(10),E=s.n(R),L=function(){function e(){Object(b.a)(this,e),null===E()("curUser")&&E()("curUser",void 0),null===E()("signed")&&E()("signed",!1)}return Object(p.a)(e,[{key:"setUser",value:function(e){return e instanceof v&&(E()("curUser",e),E()("signed",!0),!0)}},{key:"getUser",value:function(){return E()("curUser")}},{key:"clear",value:function(){E()("curUser",void 0),E()("signed",!1)}},{key:"isSigned",value:function(){return E()("signed")}}]),e}();function q(e){var t=e.isPrivate,s=e.storage,a=Object(C.a)(e,["isPrivate","storage"]);return t&&!s.isSigned()?Object(r.jsx)(o.a,{to:"/"}):Object(r.jsx)(o.b,Object(l.a)({},a))}function D(){var e=new L;return Object(r.jsx)(d.a,{children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(q,{path:"/",exact:!0,render:function(t){return Object(r.jsx)(S,Object(l.a)(Object(l.a)({},t),{},{history:D.history,storage:e}))},storage:e}),Object(r.jsx)(q,{path:"/register",render:function(t){return Object(r.jsx)(U,Object(l.a)(Object(l.a)({},t),{},{history:D.history,storage:e}))},storage:e}),Object(r.jsx)(q,{path:"/dashboard",render:function(t){return Object(r.jsx)(N,Object(l.a)(Object(l.a)({},t),{},{history:D.history,storage:e}))},isPrivate:!0,storage:e}),Object(r.jsx)(q,{render:function(t){return Object(r.jsx)(S,Object(l.a)(Object(l.a)({},t),{},{history:D.history,storage:e}))},storage:e})]})})}q.defaultProps={isPrivate:!1};var M=function(){return Object(r.jsx)(o.c,{history:h,children:Object(r.jsx)(D,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(r.jsx)(M,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.678d44b8.chunk.js.map